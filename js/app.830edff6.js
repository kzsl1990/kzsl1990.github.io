(function(e){function t(t){for(var a,i,n=t[0],l=t[1],c=t[2],m=0,d=[];m<n.length;m++)i=n[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var l=r[n];0!==o[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},o={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0193":function(e,t,r){},"034f":function(e,t,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},"117f":function(e,t,r){},1207:function(e,t,r){},"15b0":function(e,t,r){},"16ff":function(e,t,r){"use strict";var a=r("58ed"),o=r.n(a);o.a},"17b9":function(e,t,r){"use strict";var a=r("527d"),o=r.n(a);o.a},"196f":function(e,t,r){"use strict";var a=r("dfd2"),o=r.n(a);o.a},"3e77":function(e,t,r){},"4d22":function(e,t,r){"use strict";var a=r("0193"),o=r.n(a);o.a},"527d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=r("5c96"),s=r.n(o),i=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view")],1)}),n=[],l=(r("034f"),r("2877")),c={},u=Object(l["a"])(c,i,n,!1,null,null,null),m=u.exports,d=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("el-form",{ref:"form",staticClass:"login-form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("h2",{staticClass:"login-title"},[e._v("ZERO管理系统")]),r("el-form-item",{attrs:{"label-width":"0px",prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名|手机号|邮箱","prefix-icon":"el-icon-user",clearable:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{"label-width":"0px",prop:"password"}},[r("el-tooltip",{staticClass:"item",attrs:{disabled:!e.passwordFobidden,effect:"dark",content:"不可同时输入密码与验证码",placement:"top-start"}},[r("el-input",{attrs:{disabled:e.passwordFobidden,placeholder:"请输入密码","prefix-icon":"el-icon-lock",clearable:"","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),r("el-form-item",{attrs:{"label-width":"0px",prop:"code"}},[r("el-tooltip",{staticClass:"item",attrs:{disabled:!e.codeFobidden,effect:"dark",content:"不可同时输入密码与验证码",placement:"top-start"}},[r("el-input",{staticClass:"short-input",attrs:{disabled:e.codeFobidden,placeholder:"请输入验证码","prefix-icon":"el-icon-lock",clearable:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),r("el-tooltip",{staticClass:"item",attrs:{placement:"right-start",effect:"dark"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v("输入手机为手机接收验证码"),r("br"),e._v("输入邮箱为邮箱接收验证码")]),r("el-button",{staticClass:"codeButton",attrs:{type:"primary",plain:"",disabled:e.waiting||e.codeFobidden},on:{click:function(t){return e.getVeriCode(e.form.username,"login")}}},[e._v(e._s(e.content))])],1)],1),r("el-form-item",[r("el-button",{staticClass:"loginButton",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form",e.form)}}},[e._v("登录")]),r("el-button",{staticClass:"registerButton",attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("注册新用户")])],1)],1),r("el-dialog",{staticClass:"register-dialog",attrs:{width:"450px",top:"5%",title:"用户注册",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"registerform",attrs:{rules:e.registerrules,model:e.registerform}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"username"}},[r("el-input",{attrs:{clearable:""},model:{value:e.registerform.username,callback:function(t){e.$set(e.registerform,"username",t)},expression:"registerform.username"}})],1),r("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile_phone"}},[r("el-input",{attrs:{disabled:e.mobileFobidden,clearable:""},model:{value:e.registerform.mobile_phone,callback:function(t){e.$set(e.registerform,"mobile_phone",t)},expression:"registerform.mobile_phone"}})],1),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{attrs:{disabled:e.emailFobidden,clearable:""},model:{value:e.registerform.email,callback:function(t){e.$set(e.registerform,"email",t)},expression:"registerform.email"}})],1),r("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{attrs:{clearable:"","show-password":""},model:{value:e.registerform.password,callback:function(t){e.$set(e.registerform,"password",t)},expression:"registerform.password"}})],1),r("el-form-item",{attrs:{label:"确认密码","label-width":e.formLabelWidth,prop:"checkpassword"}},[r("el-input",{attrs:{clearable:"","show-password":""},model:{value:e.registerform.checkpassword,callback:function(t){e.$set(e.registerform,"checkpassword",t)},expression:"registerform.checkpassword"}})],1),r("el-form-item",{attrs:{label:"验证码","label-width":e.formLabelWidth,prop:"code"}},[r("el-input",{staticClass:"short-input",attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-lock",clearable:""},model:{value:e.registerform.code,callback:function(t){e.$set(e.registerform,"code",t)},expression:"registerform.code"}}),r("el-tooltip",{staticClass:"item",attrs:{placement:"right-start",effect:"dark"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v("输入手机为手机接收验证码"),r("br"),e._v("输入邮箱为邮箱接收验证码")]),r("el-button",{staticClass:"codeButton",attrs:{type:"primary",plain:"",disabled:e.waiting},on:{click:function(t){return e.getVeriCode(e.registerform.mobile_phone||e.registerform.email,"register")}}},[e._v(" "+e._s(e.content))])],1)],1),r("el-form-item",{attrs:{label:"游戏区","label-width":e.formLabelWidth,prop:"zone_name"}},[r("el-select",{staticClass:"zones_select",attrs:{placeholder:"请选择游戏区"},model:{value:e.registerform.zone_name,callback:function(t){e.$set(e.registerform,"zone_name",t)},expression:"registerform.zone_name"}},e._l(e.zones,(function(e){return r("el-option",{key:e.id,attrs:{label:e.description,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:"激活码","label-width":e.formLabelWidth,prop:"activation_key"}},[r("el-input",{attrs:{clearable:""},model:{value:e.registerform.activation_key,callback:function(t){e.$set(e.registerform,"activation_key",t)},expression:"registerform.activation_key"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.resetForm("registerform")}}},[e._v("重 置")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRegisterForm("registerform",e.registerform)}}},[e._v("确 定")])],1)],1)],1)},f=[],h=(r("d3b7"),r("bc3a")),b=r.n(h),g={loadingInstance:null,open:function(){null===this.loadingInstance&&(this.loadingInstance=o["Loading"].service({text:"加载中..",target:".main",background:"rgba(0, 0, 0, 0.1)"}))},close:function(){null!==this.loadingInstance&&this.loadingInstance.close(),this.loadingInstance=null}},v=b.a.create({baseURL:"/pro-api",timeout:5e3});v.interceptors.request.use((function(e){return g.open(),e}),(function(e){return g.close(),Promise.reject(e)})),v.interceptors.response.use((function(e){return g.close(),e}),(function(e){return g.close(),Promise.reject(e)}));var w=v;function y(e){return w({url:"/api/login",method:"post",data:{username:e.username,password:e.password,code:e.code}})}function _(e,t,r,a){return w({url:"/api/code",method:"post",data:{mobile_phone:e,email:t,usage:r,lang:a}})}function C(e){return w({url:"/api/register",method:"post",data:{username:e.username,mobile_phone:e.mobile_phone,email:e.email,password:e.password,code:e.code,zone_name:e.zone_name,activation_key:e.activation_key}})}function x(e){return w({url:"/api/resetpassword",method:"post",data:{mobile_phone:e.mobile_phone,email:e.email,password:e.password,code:e.code}})}function k(e){return w({url:"/api/key",method:"post",data:{activation_key:e.activation_key}})}function q(){return w({url:"/api/zone",method:"post",data:{}})}var $={data:function(){var e=this,t=function(t,r,a){""!==e.registerform.checkpassword&&e.$refs.registerform.validateField("checkpassword"),a()},r=function(t,r,a){r!==e.registerform.password?a(new Error("两次输入密码不一致!")):a()},a=function(t,r,a){""==e.registerform.mobile_phone&&""==e.registerform.email?a(new Error("手机号码和邮箱必填其中一项")):(e.$refs.registerform.clearValidate("mobile_phone"),e.$refs.registerform.clearValidate("email"),a())},o=function(t,r,a){""==e.form.code&&""==e.form.password?a(new Error("密码和验证码必填其中一项")):(e.$refs.form.clearValidate("password"),e.$refs.form.clearValidate("code"),a())};return{form:{username:"",password:"",code:""},rules:{username:[{required:!0,message:"用户名|手机号|邮箱",trigger:"blur"}],password:[{validator:o,trigger:"blur"}],code:[{validator:o,trigger:"blur"}]},registerrules:{username:[{pattern:/^\w+$/,message:"不能包含特殊字符",trigger:"blur"},{min:8,max:32,message:"必须为8-32位",trigger:"blur"}],mobile_phone:[{validator:a,trigger:"blur"}],email:[{validator:a,trigger:"blur"}],password:[{validator:t,trigger:"change"},{required:!0,message:"请输入密码",trigger:"blur"}],checkpassword:[{validator:r,trigger:"change"},{required:!0,message:"请再次输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],zone_name:[{required:!0,message:"请选择游戏区",trigger:"blur"}]},waiting:!1,content:"获取验证码",waitTime:30,lang:"en",dialogFormVisible:!1,registerform:{username:"",mobile_phone:"",email:"",password:"",checkpassword:"",code:"",zone_name:"",activation_key:""},formLabelWidth:"80px",zones:[]}},created:function(){this.getZones()},methods:{getZones:function(){var e=this;q().then((function(t){var r=t.data;0==r.status?e.zones=r.data:e.errorMsg(r.status,r.message)}))},submitForm:function(e,t){var r=this;this.$refs[e].validate((function(e){if(!e)return r.$message.warning("有未完善的选项"),!1;y(t).then((function(e){var t=e.data;0==t.status?(localStorage.setItem("zero-user",JSON.stringify(t)),localStorage.setItem("login-status","login"),r.$router.push("/")):r.errorMsg(t.status,t.message)}))}))},submitRegisterForm:function(e,t){var r=this;this.$refs[e].validate((function(e){if(!e)return r.$message.warning("有未完善的选项"),!1;C(t).then((function(e){var t=e.data;0==t.status?(r.$message.success("注册成功"),r.dialogFormVisible=!1):r.errorMsg(t.status,t.message)}))}))},getVeriCode:function(e,t){var r=/^[1][3,4,5,7,8][0-9]{9}$/,a=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;e?r.test(e)?this.getcodeApi(e,"",t):a.test(e)?this.getcodeApi("",e,t):this.$message({message:"请输入正确的手机号|邮箱",type:"warning"}):this.$refs.form.validateField("username")},getcodeApi:function(e,t,r){var a=this;this.waiting=!0;var o=window.setInterval((function(){a.waitTime--,a.content="重新发送("+a.waitTime+"s)",a.waitTime<0&&(window.clearInterval(o),a.content="发送验证码",a.waitTime=30,a.waiting=!1)}),1e3);_(e,t,r,this.lang).then((function(e){var t=e.data;0==t.status?a.$message({message:"发送成功",type:"success"}):a.errorMsg(t.status,t.message)}))},resetForm:function(e){this.$refs[e].resetFields()}},computed:{codeFobidden:function(){return this.form.code="",""!=this.form.password},passwordFobidden:function(){return this.form.password="",""!=this.form.code},mobileFobidden:function(){return this.registerform.mobile_phone="",""!=this.registerform.email},emailFobidden:function(){return this.registerform.email="",""!=this.registerform.mobile_phone}}},z=$,F=(r("cec6"),Object(l["a"])(z,p,f,!1,null,"61f8da90",null)),P=F.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("app-header"),r("app-navbar"),r("app-main")],1)},O=[],S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[e._m(0),r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link"},[e._v(" 欢迎："+e._s(e.username)+" ")]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"changepsw"}},[e._v("修改密码")]),r("el-dropdown-item",{attrs:{command:"exit"}},[e._v("退出系统")])],1)],1),r("el-dialog",{staticClass:"register-dialog",attrs:{width:"450px",top:"10%",title:"修改密码",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"resetPasswordform",attrs:{rules:e.resetPasswordrules,model:e.resetPasswordform}},[r("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile_phone"}},[r("el-input",{attrs:{disabled:e.mobileFobidden,clearable:""},model:{value:e.resetPasswordform.mobile_phone,callback:function(t){e.$set(e.resetPasswordform,"mobile_phone",t)},expression:"resetPasswordform.mobile_phone"}})],1),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{attrs:{disabled:e.emailFobidden,clearable:""},model:{value:e.resetPasswordform.email,callback:function(t){e.$set(e.resetPasswordform,"email",t)},expression:"resetPasswordform.email"}})],1),r("el-form-item",{attrs:{label:"新密码","label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{attrs:{clearable:"","show-password":""},model:{value:e.resetPasswordform.password,callback:function(t){e.$set(e.resetPasswordform,"password",t)},expression:"resetPasswordform.password"}})],1),r("el-form-item",{attrs:{label:"确认密码","label-width":e.formLabelWidth,prop:"checkpassword"}},[r("el-input",{attrs:{clearable:"","show-password":""},model:{value:e.resetPasswordform.checkpassword,callback:function(t){e.$set(e.resetPasswordform,"checkpassword",t)},expression:"resetPasswordform.checkpassword"}})],1),r("el-form-item",{attrs:{label:"验证码","label-width":e.formLabelWidth,prop:"code"}},[r("el-input",{staticClass:"short-input",attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-lock",clearable:""},model:{value:e.resetPasswordform.code,callback:function(t){e.$set(e.resetPasswordform,"code",t)},expression:"resetPasswordform.code"}}),r("el-tooltip",{staticClass:"item",attrs:{placement:"right-start",effect:"dark"}},[r("div",{attrs:{slot:"content"},slot:"content"},[e._v("输入手机为手机接收验证码"),r("br"),e._v("输入邮箱为邮箱接收验证码")]),r("el-button",{staticClass:"codeButton",attrs:{type:"primary",plain:"",disabled:e.waiting},on:{click:function(t){return e.getVeriCode(e.resetPasswordform.mobile_phone||e.resetPasswordform.email,"reset")}}},[e._v(" "+e._s(e.content))])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.$refs["resetPasswordform"].resetFields()}}},[e._v("重 置")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitResetForm("resetPasswordform",e.resetPasswordform)}}},[e._v("确 定")])],1)],1)],1)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"#/"}},[a("img",{staticClass:"logo",attrs:{src:r("cf05"),width:"25px"}}),a("span",{staticClass:"company"},[e._v("ZERO")])])}],A={data:function(){var e=this,t=function(t,r,a){""!==e.resetPasswordform.checkpassword&&e.$refs.resetPasswordform.validateField("checkpassword"),a()},r=function(t,r,a){r!==e.resetPasswordform.password?a(new Error("两次输入密码不一致!")):a()},a=function(t,r,a){""==e.resetPasswordform.mobile_phone&&""==e.resetPasswordform.email?a(new Error("手机号码和邮箱必填其中一项")):(e.$refs.resetPasswordform.clearValidate("mobile_phone"),e.$refs.resetPasswordform.clearValidate("email"),a())};return{username:JSON.parse(localStorage.getItem("zero-user")).data.username,waiting:!1,content:"获取验证码",waitTime:30,lang:"en",dialogFormVisible:!1,resetPasswordform:{mobile_phone:"",email:"",password:"",checkpassword:"",code:""},resetPasswordrules:{mobile_phone:[{validator:a,trigger:"blur"}],email:[{validator:a,trigger:"blur"}],password:[{validator:t,trigger:"change"},{required:!0,message:"请输入密码",trigger:"blur"}],checkpassword:[{validator:r,trigger:"change"},{required:!0,message:"请再次输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},formLabelWidth:"80px"}},methods:{handleCommand:function(e){var t=this;switch(e){case"changepsw":this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["resetPasswordform"].resetFields()})),this.resetPasswordform.mobile_phone=JSON.parse(localStorage.getItem("zero-user")).data.mobile_phone,this.resetPasswordform.email=JSON.parse(localStorage.getItem("zero-user")).data.email,console.log("abc");break;case"exit":this.$message("退出成功"),this.logout();break;default:break}},logout:function(){localStorage.removeItem("zero-user"),localStorage.removeItem("login-status"),this.$router.push("/login")},submitResetForm:function(e,t){var r=this;this.$refs[e].validate((function(e){if(!e)return r.$message.warning("有未完善的选项"),!1;x(t).then((function(e){var t=e.data;0==t.status?(r.$message.success("修改成功，请重新登录"),r.logout(),r.dialogFormVisible=!1):r.errorMsg(t.status,t.message)}))}))},getVeriCode:function(e,t){var r=/^[1][3,4,5,7,8][0-9]{9}$/,a=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;e?r.test(e)?this.getcodeApi(e,"",t):a.test(e)?this.getcodeApi("",e,t):this.$message({message:"请输入正确的手机号|邮箱",type:"warning"}):this.$refs.form.validateField("username")},getcodeApi:function(e,t,r){var a=this;this.waiting=!0;var o=window.setInterval((function(){a.waitTime--,a.content="重新发送("+a.waitTime+"s)",a.waitTime<0&&(window.clearInterval(o),a.content="发送验证码",a.waitTime=30,a.waiting=!1)}),1e3);_(e,t,r,this.lang).then((function(e){var t=e.data;0==t.status?a.$message({message:"发送成功",type:"success"}):a.errorMsg(t.status,t.message)}))}},computed:{mobileFobidden:function(){return this.resetPasswordform.mobile_phone="",""!=this.resetPasswordform.email},emailFobidden:function(){return this.resetPasswordform.email="",""!=this.resetPasswordform.mobile_phone}}},j=A,M=(r("196f"),Object(l["a"])(j,S,T,!1,null,"7dd171f8",null)),R=M.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navbar"},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[r("el-menu-item",{attrs:{index:"/home"}},[r("i",{staticClass:"el-icon-s-home"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),r("el-menu-item",{attrs:{index:"/users/"}},[r("i",{staticClass:"el-icon-user-solid"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),r("el-submenu",{attrs:{index:"/keys/"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-tickets"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("激活码管理")])]),r("el-menu-item",{attrs:{index:"/keys/"}},[r("i",{staticClass:"el-icon-search"}),r("template",{slot:"title"},[e._v("查询激活码")])],2),r("el-menu-item",{attrs:{index:"/keys/create/"}},[r("i",{staticClass:"el-icon-circle-plus"}),r("template",{slot:"title"},[e._v("创建激活码")])],2),r("el-menu-item",{attrs:{index:"/keys/key/"}},[r("i",{staticClass:"el-icon-key"}),r("template",{slot:"title"},[e._v("查询指定激活码")])],2)],2),r("el-submenu",{attrs:{index:"/zones/"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-position"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("游戏区管理")])]),r("el-menu-item",{attrs:{index:"/zones/"}},[r("i",{staticClass:"el-icon-search"}),r("template",{slot:"title"},[e._v("查询游戏区")])],2),r("el-menu-item",{attrs:{index:"/zones/create/"}},[r("i",{staticClass:"el-icon-circle-plus"}),r("template",{slot:"title"},[e._v("创建游戏区")])],2)],2)],1)],1)},E=[],V={},B=V,N=(r("b96f"),Object(l["a"])(B,L,E,!1,null,"5f173996",null)),Z=N.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("app-link",{directives:[{name:"show",rawName:"v-show",value:"/home"!==e.$route.path,expression:"$route.path !== '/home'"}]}),r("router-view")],1)},W=[],K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{staticClass:"line",attrs:{to:{path:e.$route.path}}},[e._v(e._s(e.$route.meta.title))])],1)],1)},U=[],J=(r("92c6"),{}),Q=Object(l["a"])(J,K,U,!1,null,"b2cffc56",null),G=Q.exports,H={components:{AppLink:G}},X=H,Y=Object(l["a"])(X,D,W,!1,null,"ef55c446",null),ee=Y.exports,te={components:{AppHeader:R,AppNavbar:Z,AppMain:ee}},re=te,ae=(r("16ff"),Object(l["a"])(re,I,O,!1,null,"f020b7d6",null)),oe=ae.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"maintitle"},[e._v("DASHBOARD")]),r("div",{staticClass:"block"},[r("el-carousel",{attrs:{trigger:"click",height:"600px"}},e._l(4,(function(t){return r("el-carousel-item",{key:t},[r("h3",{staticClass:"small"},[e._v(e._s(t))])])})),1)],1)])},ie=[],ne={},le=ne,ce=(r("bd3f"),Object(l["a"])(le,se,ie,!1,null,"7d45207c",null)),ue=ce.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"queryForm",staticClass:"queryCondition",attrs:{inline:!0,model:e.queryCondition}},[r("el-radio-group",{on:{change:e.changeOption},model:{value:e.queryOption,callback:function(t){e.queryOption=t},expression:"queryOption"}},[r("el-radio-button",{attrs:{label:"uid"}},[r("span",{staticClass:"radioText"},[e._v("用户ID")])]),r("el-radio-button",{attrs:{label:"username"}},[r("span",{staticClass:"radioText"},[e._v("用户名")])]),r("el-radio-button",{attrs:{label:"mobile_phone"}},[r("span",{staticClass:"radioText"},[e._v("手机号码")])]),r("el-radio-button",{attrs:{label:"email"}},[r("span",{staticClass:"radioText"},[e._v("邮箱地址")])])],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"uid"===e.queryOption,expression:"queryOption === 'uid'"}],staticClass:"queryItem",attrs:{prop:"uid"}},[r("el-input",{staticClass:"queryInput",attrs:{placeholder:"用户ID（不输入则查询全部）",clearable:""},model:{value:e.queryCondition.uid,callback:function(t){e.$set(e.queryCondition,"uid",t)},expression:"queryCondition.uid"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"username"===e.queryOption,expression:"queryOption === 'username'"}],staticClass:"queryItem",attrs:{prop:"username"}},[r("el-input",{staticClass:"queryInput",attrs:{placeholder:"用户名（不输入则查询全部）",clearable:""},model:{value:e.queryCondition.username,callback:function(t){e.$set(e.queryCondition,"username",t)},expression:"queryCondition.username"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"mobile_phone"===e.queryOption,expression:"queryOption === 'mobile_phone'"}],staticClass:"queryItem",attrs:{prop:"mobile_phone"}},[r("el-input",{staticClass:"queryInput",attrs:{placeholder:"手机号码（不输入则查询全部）",clearable:""},model:{value:e.queryCondition.mobile_phone,callback:function(t){e.$set(e.queryCondition,"mobile_phone",t)},expression:"queryCondition.mobile_phone"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"email"===e.queryOption,expression:"queryOption === 'email'"}],staticClass:"queryItem",attrs:{prop:"email"}},[r("el-input",{staticClass:"queryInput",attrs:{placeholder:"邮箱地址（不输入则查询全部）",clearable:""},model:{value:e.queryCondition.email,callback:function(t){e.$set(e.queryCondition,"email",t)},expression:"queryCondition.email"}})],1),r("el-form-item",{staticClass:"queryCheck1",attrs:{prop:"admin_only"}},[r("el-checkbox",{attrs:{label:"是否只查询管理员用户",disabled:!e.batchQuery},model:{value:e.queryCondition.admin_only,callback:function(t){e.$set(e.queryCondition,"admin_only",t)},expression:"queryCondition.admin_only"}})],1),r("el-form-item",{staticClass:"queryCheck2",attrs:{prop:"include_internal"}},[r("el-checkbox",{attrs:{label:"是否包含内部用户",disabled:!e.batchQuery},model:{value:e.queryCondition.include_internal,callback:function(t){e.$set(e.queryCondition,"include_internal",t)},expression:"queryCondition.include_internal"}})],1),r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryUserInit("queryForm")}}},[e._v("查询")])],1)],1),r("div",{staticClass:"showArea"},[r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],attrs:{background:"","current-page":e.queryCondition.start/e.queryCondition.count+1,"page-sizes":[3,10,20,50,100],"page-size":e.queryCondition.count,layout:"sizes, prev, pager, next, jumper",total:Math.max(e.maxToShow,e.totalResult)+1},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{width:"1060px"},attrs:{data:e.list,stripe:""}},[r("el-table-column",{attrs:{label:"",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{command:e.handleCommand}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.levelFormatter(t.row.privilege.level,"describe"),placement:"top-start"}},[r("i",{class:e.levelFormatter(t.row.privilege.level,"icon"),staticStyle:{cursor:"pointer"}})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{icon:"el-icon-user-solid",command:e.commandProps(t.row.uid,1)}},[e._v("管理员")]),r("el-dropdown-item",{attrs:{icon:"el-icon-user",command:e.commandProps(t.row.uid,0)}},[e._v("普通用户")])],1)],1)]}}])}),r("el-table-column",{attrs:{prop:"uid",label:"用户ID",width:"80"}}),r("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120"}}),r("el-table-column",{attrs:{prop:"mobile_phone",label:"手机号码",width:"120"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱地址",width:"240"}}),r("el-table-column",{attrs:{prop:"register_time",label:"注册时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"register_ip",label:"注册IP",width:"130"}}),r("el-table-column",{attrs:{label:"游戏区信息",width:"130",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.zones,stripe:""}},[r("el-table-column",{attrs:{prop:"uid",label:"用户ID",width:"120"}}),r("el-table-column",{attrs:{prop:"zone_id",label:"游戏区ID",width:"100"}}),r("el-table-column",{attrs:{prop:"zone_name",label:"游戏区"}}),r("el-table-column",{attrs:{prop:"activated_time",label:"激活时间",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"activation_key",label:"激活码"}})],1)]}}])})],1)],1)],1)},de=[];r("7db0"),r("a4d3"),r("e01a"),r("b0c0"),r("e25e");function pe(e){return w({url:"/admin/user",method:"post",data:{uid:parseInt(e.uid),username:e.username,mobile_phone:e.mobile_phone,email:e.email,admin_only:e.admin_only,include_internal:e.include_internal,start:e.start,count:e.count}})}function fe(e){return w({url:"/admin/key",method:"post",data:{zone_name:e.zone_name,include_consumed:e.include_consumed,start:e.start,count:e.count}})}function he(e){return w({url:"/admin/createkey",method:"post",data:{zone_name:e.zone_name,expire_time:e.expire_time,count:e.count}})}function be(e){return w({url:"/admin/createzone",method:"post",data:{name:e.name,description:e.description,free_activate:e.free_activate}})}function ge(e){return w({url:"/super/setpriv",method:"post",data:{uid:e.uid,level:e.level}})}var ve={data:function(){return{list:[],queryOption:"uid",totalResult:0,maxToShow:10,queryCondition:{uid:"",username:"",mobile_phone:"",email:"",admin_only:!1,include_internal:!1,start:0,count:10}}},watch:{batchQuery:function(e){e||(this.queryCondition.admin_only=!1,this.queryCondition.include_internal=!1)}},computed:{batchQuery:function(){return""==this.queryCondition.uid&&""==this.queryCondition.username&&""==this.queryCondition.mobile_phone&&""==this.queryCondition.email}},methods:{queryUserInit:function(e){var t=this;this.queryCondition.start=0,this.maxToShow=this.queryCondition.count,this.$refs[e].validate((function(e){e&&pe(t.queryCondition).then((function(e){var r=e.data;0==r.status?(t.list=r.data,t.totalResult=r.data.length,t.totalResult<t.queryCondition.count&&(t.maxToShow=t.totalResult)):t.errorMsg(r.status,r.message)}))}))},queryUser:function(e){var t=this;this.$refs[e].validate((function(e){e&&pe(t.queryCondition).then((function(e){var r=e.data;0==r.status?(t.list=r.data,t.totalResult=r.data.length):t.$message({message:r.message,type:"warning"})}))}))},queryUserAdd:function(e){var t=this;this.$refs[e].validate((function(e){e&&pe(t.queryCondition).then((function(e){var r=e.data;0==r.status?r.data.length?(t.list=r.data,t.totalResult=r.data.length,t.maxToShow+=t.totalResult):(t.$message("已经没有更多数据了"),t.list=[{uid:null,username:null,mobile_phone:null,email:null,register_time:null,register_ip:null,update_time:null,privilege:{uid:null,level:null,update_time:null},zones:[{uid:null,zone_id:null,zone_name:null,activated_time:null,activation_key:null}]}]):t.errorMsg(r.status,r.message)}))}))},changeOption:function(e){this.$refs["queryForm"].resetFields()},formatPrivilege:function(e,t,r){var a=privilegeLevel.find((function(t){return t.level==e.privilege.level}));return a?a.privilege:null},handleSizeChange:function(e){this.queryCondition.count=e,this.queryUserInit("queryForm")},handleCurrentChange:function(e){this.queryCondition.start=(e-1)*this.queryCondition.count;var t=e<this.maxToShow/this.queryCondition.count+1;t?this.queryUser("queryForm"):this.queryUserAdd("queryForm")},levelFormatter:function(e,t){var r=this.GLOBAL_VAR.privDescribe.find((function(t){return t.level==e}));return"icon"==t?r.icon:"describe"==t?r.describe:void 0},handleCommand:function(e){var t=this,r=this.GLOBAL_VAR.privDescribe.find((function(t){return t.level==e.prev})),a={uid:e.uid,level:e.prev},o="确认修改用户 "+e.uid+" 的权限为 "+r.describe+" ？";this.$confirm(o,"修改权限确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){ge(a).then((function(e){var r=e.data;0==r.status?(t.$message.success("修改成功"),t.queryUser("queryForm")):t.errorMsg(r.status,r.message)}))})).catch((function(){t.$message({type:"info",message:"取消修改"})}))},commandProps:function(e,t){return{uid:e,prev:t}}}},we=ve,ye=(r("e976"),Object(l["a"])(we,me,de,!1,null,"3b2dc5a4",null)),_e=ye.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"queryForm",staticClass:"queryCondition",attrs:{inline:!0,rules:e.rules,model:e.queryCondition}},[r("el-form-item",{staticClass:"queryItem",attrs:{prop:"zone_name"}},[r("el-select",{attrs:{placeholder:"游戏区名字",clearable:""},model:{value:e.queryCondition.zone_name,callback:function(t){e.$set(e.queryCondition,"zone_name",t)},expression:"queryCondition.zone_name"}},e._l(e.zones,(function(e){return r("el-option",{key:e.id,attrs:{label:e.description,value:e.name}})})),1)],1),r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryKeyInit("queryForm")}}},[e._v("查 询")])],1),r("el-form-item",{staticClass:"queryCheck",attrs:{prop:"include_consumed"}},[r("el-checkbox",{attrs:{label:"是否包含已消耗的激活码"},model:{value:e.queryCondition.include_consumed,callback:function(t){e.$set(e.queryCondition,"include_consumed",t)},expression:"queryCondition.include_consumed"}})],1)],1),r("div",{staticClass:"showArea"},[r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],attrs:{background:"","current-page":e.queryCondition.start/e.queryCondition.count+1,"page-sizes":[3,10,20,50,100],"page-size":e.queryCondition.count,layout:"sizes, prev, pager, next, jumper",total:Math.max(e.maxToShow,e.totalResult)+1},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{width:"1200px"},attrs:{data:e.list,stripe:""}},[r("el-table-column",{attrs:{prop:"id",label:"编号",width:"80"}}),r("el-table-column",{attrs:{prop:"key",label:"激活码",width:"320"}}),r("el-table-column",{attrs:{prop:"zone_id",label:"游戏区ID",width:"80"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"expire_time",label:"过期时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"consumer",label:"消耗者",width:"120"}}),r("el-table-column",{attrs:{prop:"consume_time",label:"消耗时间",width:"200",formatter:e.time_formatter}})],1)],1)],1)},xe=[],ke={data:function(){return{list:[],zones:[],totalResult:0,maxToShow:10,queryCondition:{zone_name:"",include_consumed:!1,start:0,count:10},rules:{zone_name:[{required:!0,message:"请选择游戏区",trigger:"blur"}]}}},created:function(){this.getZones()},methods:{queryKeyInit:function(e){var t=this;this.queryCondition.start=0,this.maxToShow=this.queryCondition.count,this.$refs[e].validate((function(e){e&&fe(t.queryCondition).then((function(e){var r=e.data;0==r.status?(t.list=r.data,t.totalResult=r.data.length,t.totalResult||t.$message("暂无数据"),t.totalResult<t.queryCondition.count&&(t.maxToShow=t.totalResult)):t.errorMsg(r.status,r.message)}))}))},queryKey:function(e){var t=this;this.$refs[e].validate((function(e){e&&fe(t.queryCondition).then((function(e){var r=e.data;0==r.status?(t.list=r.data,t.totalResult=r.data.length):t.$message({message:r.message,type:"warning"})}))}))},queryKeyAdd:function(e){var t=this;this.$refs[e].validate((function(e){e&&fe(t.queryCondition).then((function(e){var r=e.data;0==r.status?r.data.length?(t.list=r.data,t.totalResult=r.data.length,t.maxToShow+=t.totalResult):(t.$message("已经没有更多数据了"),t.list=[{id:null,key:null,zone_id:null,email:null,create_time:null,expire_ip:null,consumer:null,consume_time:null}]):t.$message({message:r.message,type:"warning"})}))}))},handleSizeChange:function(e){this.queryCondition.count=e,this.queryKeyInit("queryForm")},handleCurrentChange:function(e){this.queryCondition.start=(e-1)*this.queryCondition.count;var t=e<this.maxToShow/this.queryCondition.count+1;t?this.queryKey("queryForm"):this.queryKeyAdd("queryForm")},getZones:function(){var e=this;q().then((function(t){var r=t.data;0==r.status?e.zones=r.data:e.errorMsg(r.status,r.message)}))}}},qe=ke,$e=(r("17b9"),Object(l["a"])(qe,Ce,xe,!1,null,"be0cd004",null)),ze=$e.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"createForm",staticClass:"createForm",attrs:{inline:!0,rules:e.rules,model:e.createForm}},[r("el-form-item",{staticClass:"queryItem",attrs:{prop:"zone_name"}},[r("el-select",{attrs:{placeholder:"游戏区名字"},model:{value:e.createForm.zone_name,callback:function(t){e.$set(e.createForm,"zone_name",t)},expression:"createForm.zone_name"}},e._l(e.zones,(function(e){return r("el-option",{key:e.id,attrs:{label:e.description,value:e.name}})})),1)],1),r("el-form-item",{staticClass:"createCount",attrs:{label:"创建条数",prop:"count"}},[r("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1,max:100,label:"创建条数"},model:{value:e.createForm.count,callback:function(t){e.$set(e.createForm,"count",t)},expression:"createForm.count"}})],1),r("el-form-item",{staticClass:"expireTime",attrs:{label:"有效时间",prop:"expire_time"}},[r("div",{staticClass:"timeblock"},[r("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"不填则为7天","default-time":"23:59:59"},model:{value:e.expire_timestamp,callback:function(t){e.expire_timestamp=t},expression:"expire_timestamp"}})],1)]),r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.createKeys("createForm")}}},[e._v("创 建")])],1)],1),r("div",{staticClass:"showArea"},[r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],attrs:{background:"","current-page":e.current_page,"page-sizes":[3,10,20,50,100],"page-size":e.page_size,layout:"sizes, prev, pager, next, jumper",total:e.totalResult}}),r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{width:"1200px"},attrs:{data:e.list,stripe:""}},[r("el-table-column",{attrs:{prop:"id",label:"编号",width:"80"}}),r("el-table-column",{attrs:{prop:"key",label:"激活码",width:"320"}}),r("el-table-column",{attrs:{prop:"zone_id",label:"游戏区ID",width:"80"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"expire_time",label:"过期时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"consumer",label:"消耗者",width:"120"}}),r("el-table-column",{attrs:{prop:"consume_time",label:"消耗时间",width:"200",formatter:e.time_formatter}})],1)],1)],1)},Pe=[],Ie=(r("0d03"),{data:function(){return{list:[],zones:[],current_page:1,page_size:10,totalResult:0,createForm:{zone_name:"",expire_time:null,count:1},expire_timestamp:"",rules:{zone_name:[{required:!0,message:"请选择游戏区",trigger:"blur"}],count:[{required:!0,type:"number",message:"请输入创建条数",trigger:"blur"}],expire_time:[{type:"number",message:"只能为数字",trigger:"blur"}]}}},created:function(){this.getZones()},methods:{getZones:function(){var e=this;q().then((function(t){var r=t.data;0==r.status?e.zones=r.data:e.errorMsg(r.status,r.message)}))},createKeys:function(e){var t=this;this.createForm.expire_time=this.timeCount,this.$refs[e].validate((function(e){e&&he(t.createForm).then((function(e){var r=e.data;0==r.status?(t.list=r.data,t.totalResult=r.data.length):t.errorMsg(r.status,r.message)}))}))}},computed:{timeCount:function(){var e=new Date;return this.expire_timestamp?Math.ceil((this.expire_timestamp.getTime()-e.getTime())/1e3):null}}}),Oe=Ie,Se=(r("f7b9"),Object(l["a"])(Oe,Fe,Pe,!1,null,"67944820",null)),Te=Se.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"key",staticClass:"queryCondition",attrs:{inline:!0,rules:e.rules,model:e.key}},[r("el-form-item",{staticClass:"queryItem",attrs:{prop:"activation_key"}},[r("el-input",{staticClass:"queryInput",attrs:{placeholder:"请输入激活码",clearable:""},model:{value:e.key.activation_key,callback:function(t){e.$set(e.key,"activation_key",t)},expression:"key.activation_key"}})],1),r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryKey("key")}}},[e._v("查 询")])],1)],1),r("div",{staticClass:"showArea"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{width:"1200px"},attrs:{data:e.list,stripe:""}},[r("el-table-column",{attrs:{prop:"id",label:"编号",width:"80"}}),r("el-table-column",{attrs:{prop:"key",label:"激活码",width:"320"}}),r("el-table-column",{attrs:{prop:"zone_id",label:"游戏区ID",width:"80"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"expire_time",label:"过期时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"consumer",label:"消耗者",width:"120"}}),r("el-table-column",{attrs:{prop:"consume_time",label:"消耗时间",width:"200",formatter:e.time_formatter}})],1)],1)],1)},je=[],Me={data:function(){return{list:[],key:{activation_key:""},rules:{activation_key:[{required:!0,message:"请输入激活码",trigger:"blur"}]}}},methods:{queryKey:function(e){var t=this;this.$refs[e].validate((function(e){e&&k(t.key).then((function(e){var r=e.data;0==r.status?t.list.push(r.data):500==r.status?t.$message.error(r.message):t.errorMsg(r.status,r.message)}))}))}}},Re=Me,Le=(r("9a38"),Object(l["a"])(Re,Ae,je,!1,null,"5e95bbd3",null)),Ee=Le.exports,Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"queryForm",staticClass:"queryCondition",attrs:{inline:!0}},[r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getZones()}}},[e._v("查询全部游戏区")])],1)],1),r("div",{staticClass:"showArea"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],staticStyle:{width:"1040px"},attrs:{data:e.list,stripe:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"40"}}),r("el-table-column",{attrs:{prop:"name",label:"名字",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"描述",width:"300"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"free_activate",label:"是否免激活",width:"100",formatter:e.formatFree_act}}),r("el-table-column",{attrs:{prop:"update_time",label:"最近更新时间",width:"200",formatter:e.time_formatter}})],1)],1)],1)},Be=[],Ne={data:function(){return{list:[]}},methods:{getZones:function(){var e=this;q().then((function(t){var r=t.data;0==r.status?e.list=r.data:e.errorMsg(r.status,r.message)}))},formatFree_act:function(e,t){return e.free_activate?"是":"否"}}},Ze=Ne,De=(r("4d22"),Object(l["a"])(Ze,Ve,Be,!1,null,"ffda1d6e",null)),We=De.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",staticClass:"queryCondition",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{staticClass:"queryItem",attrs:{label:"游戏区名字",prop:"name","label-width":"100px"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{staticClass:"queryItem",attrs:{label:"文字描述",prop:"description","label-width":"100px"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),r("el-form-item",{staticClass:"checkItem",attrs:{prop:"free_activate","label-width":"100px"}},[r("el-checkbox",{model:{value:e.form.free_activate,callback:function(t){e.$set(e.form,"free_activate",t)},expression:"form.free_activate"}},[e._v("是否免激活码注册")])],1),r("el-form-item",{staticClass:"queryButton"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.createZones("form")}}},[e._v("创建游戏区")])],1)],1),r("div",{staticClass:"showArea"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:e.newzone.length,expression:"newzone.length"}],staticStyle:{width:"1040px"},attrs:{data:e.newzone,stripe:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"40"}}),r("el-table-column",{attrs:{prop:"name",label:"名字",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"描述",width:"300"}}),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200",formatter:e.time_formatter}}),r("el-table-column",{attrs:{prop:"free_activate",label:"是否免激活",width:"100",formatter:e.formatFree_act}}),r("el-table-column",{attrs:{prop:"update_time",label:"最近更新时间",width:"200",formatter:e.time_formatter}})],1)],1)],1)},Ue=[],Je={data:function(){return{newzone:[],form:{name:"",description:"",free_activate:!1},rules:{name:[{required:!0,message:"请输入游戏区名字",trigger:"blur"}],description:[{required:!0,message:"请输入文字描述",trigger:"blur"}]}}},methods:{createZones:function(e){var t=this;this.$refs[e].validate((function(e){e&&be(t.form).then((function(e){var r=e.data;0==r.status?t.newzone.push(r.data):t.errorMsg(r.status,r.message)}))}))},formatFree_act:function(e,t){return e.free_activate?"是":"否"}}},Qe=Je,Ge=(r("abd0"),Object(l["a"])(Qe,Ke,Ue,!1,null,"5a167f3c",null)),He=Ge.exports;a["default"].use(d["a"]);var Xe=d["a"].prototype.push;d["a"].prototype.push=function(e){return Xe.call(this,e).catch((function(e){return e}))};var Ye=new d["a"]({routes:[{path:"/login",name:"login",component:P},{path:"/",name:"layout",component:oe,redirect:"/home",children:[{path:"/home",component:ue,meta:{title:"首页"}}]},{path:"/users",component:oe,children:[{path:"/",component:_e,meta:{title:"用户管理"}}]},{path:"/keys",component:oe,children:[{path:"/keys/",component:ze,meta:{title:"查询激活码"}},{path:"/keys/create/",component:Te,meta:{title:"创建激活码"}},{path:"/keys/key/",component:Ee,meta:{title:"查询指定激活码"}}]},{path:"/zones",component:oe,children:[{path:"/zones/",component:We,meta:{title:"查询游戏区"}},{path:"/zones/create/",component:He,meta:{title:"创建游戏区"}}]}]});Ye.beforeEach((function(e,t,r){var a=localStorage.getItem("login-status");if(a)if("/login"===e.path)r();else{var s=localStorage.getItem("zero-user");s?r():(o["Message"].warning("用户信息已过期，请重新登录"),r({path:"/login"}))}else"/login"!==e.path?(o["Message"].warning("用户未登录"),r({path:"/login"})):r()}));var et=[{status:0,message:"成功",type:"success"},{status:400,message:"参数错误",type:"error"},{status:401,message:"用户未登录",type:"warning"},{status:403,message:"没有执行权限",type:"warning"},{status:500,message:"服务器内部错误",type:"error"},{status:1001,message:"验证码校验失败",type:"warning"},{status:1002,message:"密码错误",type:"warning"},{status:1003,message:"用户未找到",type:"warning"},{status:1004,message:"用户已存在",type:"warning"},{status:1005,message:"邮件发送失败",type:"warning"},{status:1006,message:"请求验证码过于频繁",type:"warning"},{status:1007,message:"激活游戏区失败",type:"warning"}];function tt(){o["MessageBox"].confirm("登陆已过期，是否重新登陆","登陆确认",{confirmButtonText:"重新登陆",cancelButtonText:"暂不离开"}).then((function(){Ye.push("/login")})).catch((function(){Object(o["Message"])({type:"info",message:"暂不离开"})}))}function rt(e,t){if(401==e)tt();else if(400==e)Object(o["Message"])({message:"参数错误: "+t,type:"error"});else{var r=et.find((function(t){return t.status==e}));Object(o["Message"])({message:r.message,type:r.type})}}var at=[{level:100,describe:"超级管理员",icon:"el-icon-star-on"},{level:1,describe:"管理员",icon:"el-icon-user-solid"},{level:0,describe:"普通用户",icon:"el-icon-user"}],ot={privDescribe:at};function st(e,t,r){var a=r.substring(0,10),o=r.substring(11,19);return a+" "+o}var it={install:function(e){e.prototype.time_formatter=function(e,t,r){return st(e,t,r)}}};a["default"].use(s.a),a["default"].prototype.errorMsg=rt,a["default"].prototype.GLOBAL_VAR=ot,a["default"].use(it),a["default"].config.productionTip=!0,console.log("Environment: ","/pro-api"),new a["default"]({router:Ye,render:function(e){return e(m)}}).$mount("#app")},"58ed":function(e,t,r){},"74d3":function(e,t,r){},"85ec":function(e,t,r){},"8e17":function(e,t,r){},"92c6":function(e,t,r){"use strict";var a=r("3e77"),o=r.n(a);o.a},"980e":function(e,t,r){},"9a38":function(e,t,r){"use strict";var a=r("f7c2"),o=r.n(a);o.a},abd0:function(e,t,r){"use strict";var a=r("117f"),o=r.n(a);o.a},b96f:function(e,t,r){"use strict";var a=r("980e"),o=r.n(a);o.a},bd3f:function(e,t,r){"use strict";var a=r("1207"),o=r.n(a);o.a},cec6:function(e,t,r){"use strict";var a=r("8e17"),o=r.n(a);o.a},cf05:function(e,t,r){e.exports=r.p+"img/logo.506519a6.png"},dfd2:function(e,t,r){},e976:function(e,t,r){"use strict";var a=r("74d3"),o=r.n(a);o.a},f7b9:function(e,t,r){"use strict";var a=r("15b0"),o=r.n(a);o.a},f7c2:function(e,t,r){}});